extends ../layout.pug   


block append scripts
    - entry = entry ?? "";
    script(type="module").
        import { createApp, ref } from "vue"
        import EditEntry from "/vue/edit-entry.js"

        createApp({
            components: {
                EditEntry
            },
            setup() {
                var entry = JSON.parse(`!{JSON.stringify(entry)}`);
                return { entry }
            }
        }).mount("#app");

block content
    .content
        #app
            <edit-entry :entry=entry></edit-entry>


            //.form-group
            //    label(for="tags") Tags
            //    tag-select(name="tags" id="tags")
            //        - var tagIDs = entry.Tags.map((x) => x.id);
            //        each tag in tags
            //            - var selected = tagIDs.includes(tag.id);
            //            option(value=tag.id selected=selected) #{tag.name}


        .entry-photos
        if entry.Photos.length
            each photo in entry.Photos
                img.entry-img(src="/" + photo.path)
